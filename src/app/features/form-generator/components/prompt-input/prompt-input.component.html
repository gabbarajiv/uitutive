<mat-card class="prompt-input-card">
    <mat-card-content>
        <div class="input-group">
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Enter your form description</mat-label>
                <textarea matInput [(ngModel)]="prompt"
                    placeholder="e.g., Create a customer registration form with name, email, phone, and address fields"
                    rows="4" [disabled]="isLoading"></textarea>
                <mat-hint>Describe what form you want to generate</mat-hint>
            </mat-form-field>

            <div class="input-actions">
                <mat-form-field appearance="outline" class="model-select-field">
                    <mat-label>Model</mat-label>
                    <mat-select [value]="selectedModel" (selectionChange)="changeModel($event.value)"
                        [disabled]="loadingModels || modelChangeInProgress" [compareWith]="compareModels">
                        <mat-option *ngFor="let model of availableModels" [value]="model.name">
                            {{ model.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <button mat-button color="primary" (click)="submit()" [disabled]="!prompt.trim() || isLoading">
                    <mat-icon>auto_awesome</mat-icon>
                    Generate Form
                </button>
                <button mat-icon-button (click)="clearPrompt()" [disabled]="!prompt || isLoading"
                    matTooltip="Clear input">
                    <mat-icon>clear</mat-icon>
                </button>
            </div>

            <!-- Suggestions Section -->
            <div class="suggestions-section" *ngIf="displayedSuggestions.length > 0">
                <div class="suggestions-header">
                    <mat-icon class="suggestions-icon">lightbulb_outline</mat-icon>
                    <span class="suggestions-label">Try a suggestion:</span>
                </div>
                <div class="suggestions-list">
                    <mat-chip-set aria-label="Prompt suggestions">
                        <button mat-chip *ngFor="let suggestion of displayedSuggestions"
                            (click)="selectSuggestion(suggestion)" class="suggestion-chip" [disabled]="isLoading">
                            {{ suggestion.text }}
                        </button>
                    </mat-chip-set>
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>